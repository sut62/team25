{"remainingRequest":"C:\\VueJs-SpringBoot-master\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\VueJs-SpringBoot-master\\client\\src\\components\\VideoRental.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\VueJs-SpringBoot-master\\client\\src\\components\\VideoRental.vue","mtime":1568306869055},{"path":"C:\\VueJs-SpringBoot-master\\client\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1564062719000},{"path":"C:\\VueJs-SpringBoot-master\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\VueJs-SpringBoot-master\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport http from \"../http-common\";\n\nexport default {\n  name: \"videoRental\",\n  data() {\n    return {\n      videoRental: {\n        customerId: \"\",\n        employeeId: \"\",\n        rentalId: \"\",\n        videoId: \"\"\n      },\n      valid: false,\n      customerCheck: false,\n      customerName: \"\"\n    };\n  },\n  methods: {\n    /* eslint-disable no-console */\n\n    // ดึงข้อมูล Employee ใส่ combobox\n    getEmployees() {\n      http\n        .get(\"/employee\")\n        .then(response => {\n          this.employees = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    // ดึงข้อมูล Video ใส่ combobox\n    getVideos() {\n      http\n        .get(\"/video\")\n        .then(response => {\n          this.videos = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    // ดึงข้อมูล RentalType ใส่ combobox\n    getRentalTypes() {\n      http\n        .get(\"/rentalType\")\n        .then(response => {\n          this.rentalTypes = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    // function ค้นหาลูกค้าด้วย ID\n    findCustomer() {\n      http\n        .get(\"/customer/\" + this.videoRental.customerId)\n        .then(response => {\n          console.log(response);\n          if (response.data != null) {\n            this.customerName = response.data.name;\n            this.customerCheck = response.status;\n          } else {\n            this.clear()\n          }          \n        })\n        .catch(e => {\n          console.log(e);\n        });\n      this.submitted = true;\n    },\n    // function เมื่อกดปุ่ม submit\n    saveVideoRental() {\n      http\n        .post(\n          \"/videoRental/\" +\n            this.videoRental.customerId +\n            \"/\" +\n            this.videoRental.employeeId +\n            \"/\" +\n            this.videoRental.videoId +\n            \"/\" +\n            this.videoRental.rentalId,\n          this.videoRental\n        )\n        .then(response => {\n          console.log(response);\n          this.$router.push(\"/view\");\n        })\n        .catch(e => {\n          console.log(e);\n        });\n      this.submitted = true;\n    },\n    clear() {\n      this.$refs.form.reset();\n      this.customerCheck = false;\n    },\n    refreshList() {\n      this.getEmployees();\n      this.getVideos();\n      this.getRentalTypes();\n    }\n    /* eslint-enable no-console */\n  },\n  mounted() {\n    this.getEmployees();\n    this.getVideos();\n    this.getRentalTypes();\n  }\n};\n",{"version":3,"sources":["VideoRental.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VideoRental.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n    <v-layout text-center wrap>\n      <v-flex mb-4>\n        <br />\n        <h1 class=\"display-2 font-weight-bold mb-3\">ระบบค่าปรับ</h1>\n      </v-flex>\n    </v-layout>\n\n    <v-row justify=\"center\">\n      <v-col cols=\"4\">\n        <v-form v-model=\"valid\" ref=\"form\">\n          <v-row justify=\"center\">\n            <v-col cols=\"10\">\n              <v-text-field\n                outlined\n                label=\"Customer ID\"\n                v-model=\"videoRental.customerId\"\n                :rules=\"[(v) => !!v || 'Item is required']\"\n                required\n              ></v-text-field>\n              <p v-if=\"customerCheck != ''\">Customer Name : {{customerName}}</p>\n            </v-col>\n            <v-col cols=\"2\">\n              <div class=\"my-2\">\n                <v-btn @click=\"findCustomer\" depressed large color=\"primary\">Search</v-btn>\n              </div>\n            </v-col>\n          </v-row>\n\n          <div v-if=\"customerCheck\">\n            <v-row>\n              <v-col cols=\"10\">\n                <v-select\n                  label=\"Employee\"\n                  outlined\n                  v-model=\"videoRental.employeeId\"\n                  :items=\"employees\"\n                  item-text=\"name\"\n                  item-value=\"id\"\n                  :rules=\"[(v) => !!v || 'Item is required']\"\n                  required\n                ></v-select>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"10\">\n                <v-select\n                  label=\"RentalType\"\n                  outlined\n                  v-model=\"videoRental.rentalId\"\n                  :items=\"rentalTypes\"\n                  item-text=\"name\"\n                  item-value=\"id\"\n                  :rules=\"[(v) => !!v || 'Item is required']\"\n                  required\n                ></v-select>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"10\">\n                <v-select\n                  label=\"Video\"\n                  outlined\n                  v-model=\"videoRental.videoId\"\n                  :items=\"videos\"\n                  item-text=\"title\"\n                  item-value=\"id\"\n                  :rules=\"[(v) => !!v || 'Item is required']\"\n                  required\n                ></v-select>\n              </v-col>\n            </v-row>\n            <v-row justify=\"center\">\n              <v-col cols=\"12\">\n                <v-btn @click=\"saveVideoRental\" :class=\"{ red: !valid, green: valid }\">submit</v-btn>\n                <v-btn style=\"margin-left: 15px;\" @click=\"clear\">clear</v-btn>\n              </v-col>\n            </v-row>\n            <br />\n          </div>\n        </v-form>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport http from \"../http-common\";\n\nexport default {\n  name: \"videoRental\",\n  data() {\n    return {\n      videoRental: {\n        customerId: \"\",\n        employeeId: \"\",\n        rentalId: \"\",\n        videoId: \"\"\n      },\n      valid: false,\n      customerCheck: false,\n      customerName: \"\"\n    };\n  },\n  methods: {\n    /* eslint-disable no-console */\n\n    // ดึงข้อมูล Employee ใส่ combobox\n    getEmployees() {\n      http\n        .get(\"/employee\")\n        .then(response => {\n          this.employees = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    // ดึงข้อมูล Video ใส่ combobox\n    getVideos() {\n      http\n        .get(\"/video\")\n        .then(response => {\n          this.videos = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    // ดึงข้อมูล RentalType ใส่ combobox\n    getRentalTypes() {\n      http\n        .get(\"/rentalType\")\n        .then(response => {\n          this.rentalTypes = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        });\n    },\n    // function ค้นหาลูกค้าด้วย ID\n    findCustomer() {\n      http\n        .get(\"/customer/\" + this.videoRental.customerId)\n        .then(response => {\n          console.log(response);\n          if (response.data != null) {\n            this.customerName = response.data.name;\n            this.customerCheck = response.status;\n          } else {\n            this.clear()\n          }          \n        })\n        .catch(e => {\n          console.log(e);\n        });\n      this.submitted = true;\n    },\n    // function เมื่อกดปุ่ม submit\n    saveVideoRental() {\n      http\n        .post(\n          \"/videoRental/\" +\n            this.videoRental.customerId +\n            \"/\" +\n            this.videoRental.employeeId +\n            \"/\" +\n            this.videoRental.videoId +\n            \"/\" +\n            this.videoRental.rentalId,\n          this.videoRental\n        )\n        .then(response => {\n          console.log(response);\n          this.$router.push(\"/view\");\n        })\n        .catch(e => {\n          console.log(e);\n        });\n      this.submitted = true;\n    },\n    clear() {\n      this.$refs.form.reset();\n      this.customerCheck = false;\n    },\n    refreshList() {\n      this.getEmployees();\n      this.getVideos();\n      this.getRentalTypes();\n    }\n    /* eslint-enable no-console */\n  },\n  mounted() {\n    this.getEmployees();\n    this.getVideos();\n    this.getRentalTypes();\n  }\n};\n</script>\n"]}]}